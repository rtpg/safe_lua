Some stuff to do

- Factor out sourcemaps (Moving the tests into that file would make sense as well)
- function a:b (x) unsuguar to a.b (self, x)
